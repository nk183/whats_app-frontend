{"ast":null,"code":"import _objectSpread from \"/run/media/nk/NK/A_naman/Workspace/whats_app_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/run/media/nk/NK/A_naman/Workspace/whats_app_clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/run/media/nk/NK/A_naman/Workspace/whats_app_clone/src/components/Chat.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport '../styling/Chat.css';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { SearchOutlined } from '@material-ui/icons';\nimport SidebarChat from './SidebarChat';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport MicIcon from '@material-ui/icons/Mic';\nimport axios from 'axios';\n\nfunction Chat(_ref) {\n  var _this = this;\n\n  var user = _ref.user;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      input = _useState2[0],\n      setInput = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      seed = _useState4[0],\n      setseed = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      chat = _useState6[0],\n      setchat = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      roomChats = _useState8[0],\n      setRoomChats = _useState8[1];\n\n  var _useState9 = useState(\"1\"),\n      roomId = _useState9.roomId;\n\n  useEffect(function () {\n    setseed(Math.floor(Math.random() * 5000));\n    axios.get(\"http://localhost:8080/getChat/2\").then(function (response) {\n      console.log(response.data);\n      setRoomChats(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [chat]);\n\n  var sendchat = function sendchat(e) {\n    e.preventDefault(); // alert(input);\n    // console.log(input);\n\n    setchat(_objectSpread({}, chat, {\n      \"message\": input,\n      \"userId\": user,\n      \"roomId\": roomId\n    }));\n    axios.post(\"http://localhost:8080/addChat\", chat).then(function (response) {\n      alert(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    setInput('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat_header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: \"https://avatars.dicebear.com/api/human/\".concat(seed, \".svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat_header_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, roomChats.roomId), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Last seem at ...\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat_headerRight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SearchOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ChatIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat_body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }\n  }, roomChats.map(function (temp) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      className: \"chat_message \".concat(false && 'chat_reciever'),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"spam\", {\n      className: \"chat_name\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, temp.userId), temp.message, /*#__PURE__*/React.createElement(\"spam\", {\n      className: \"chat_timestamp\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, temp.timeStamp));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat_footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(InsertEmoticonIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: input,\n    placeholder: \"type chat ...\",\n    type: \"text\",\n    onChange: function onChange(e) {\n      return setInput(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sendchat,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, \"Send\")), /*#__PURE__*/React.createElement(MicIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Chat;","map":{"version":3,"sources":["/run/media/nk/NK/A_naman/Workspace/whats_app_clone/src/components/Chat.js"],"names":["React","useState","useEffect","useParams","Avatar","IconButton","DonutLargeIcon","ChatIcon","MoreVertIcon","SearchOutlined","SidebarChat","InsertEmoticonIcon","MicIcon","axios","Chat","user","input","setInput","seed","setseed","chat","setchat","roomChats","setRoomChats","roomId","Math","floor","random","get","then","response","console","log","data","catch","error","sendchat","e","preventDefault","post","alert","map","temp","userId","message","timeStamp","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport '../styling/Chat.css';\r\nimport {Avatar,IconButton } from '@material-ui/core';\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport {SearchOutlined} from '@material-ui/icons'\r\nimport SidebarChat from './SidebarChat'\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport axios from'axios'\r\n\r\n\r\n\r\nfunction Chat({user}) {\r\n    const [input, setInput] = useState(\"\");\r\n    const [seed, setseed] = useState(\"\")\r\n    const [chat, setchat] = useState({})\r\n    const [roomChats, setRoomChats] = useState([])\r\n    const {roomId} = useState(\"1\");\r\n    useEffect(() => {\r\n        setseed(Math.floor(Math.random()*5000));\r\n        axios.get(\"http://localhost:8080/getChat/2\")\r\n                .then(response=>{\r\n                    console.log(response.data);\r\n                    setRoomChats(response.data)\r\n                })\r\n                .catch(error=>{\r\n                    console.log(error);\r\n                }\r\n                )\r\n\r\n    }, [chat]) \r\n\r\n    const sendchat=(e)=>{\r\n        e.preventDefault();\r\n        // alert(input);\r\n        // console.log(input);\r\n        \r\n        setchat({...chat,\"message\":input,\"userId\":user,\"roomId\":roomId})\r\n        axios.post(\"http://localhost:8080/addChat\",chat)\r\n            .then(response=>{\r\n                alert(response.data);\r\n\r\n            })\r\n            .catch(error=>{\r\n                console.log(error);\r\n                }\r\n            )\r\n\r\n        setInput('');\r\n    }\r\n    \r\n    return (\r\n        <div className='chat'>\r\n           <div className='chat_header'>\r\n                <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\r\n                <div className='chat_header_info'>\r\n                    <h3>{roomChats.roomId}</h3>\r\n                    <p>Last seem at ...</p>\r\n                </div>\r\n                <div className='chat_headerRight'>\r\n                    <IconButton>\r\n                        <SearchOutlined/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <ChatIcon/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon/>\r\n                    </IconButton>\r\n                </div>\r\n\r\n           </div>\r\n           <div className='chat_body'>\r\n           {roomChats.map((temp)=>(\r\n           \r\n                <p className={`chat_message ${false && 'chat_reciever'}`}>\r\n                    <spam className='chat_name'>\r\n                        {temp.userId}\r\n                    </spam>\r\n                    {temp.message}\r\n                    <spam className='chat_timestamp'>\r\n                        {temp.timeStamp}\r\n                    </spam>\r\n                </p>\r\n            )\r\n            )\r\n           }\r\n           </div>     \r\n\r\n            {/* <div className='chat_body'>\r\n                <p className={`chat_chat ${true && 'chat_reciever'}`}>\r\n                    <spam className='chat_name'>\r\n                        moooom\r\n                    </spam>\r\n                        lololo\r\n                    <spam className='chat_timestamp'>\r\n                        hi nmn\r\n                    </spam>\r\n                </p>\r\n            </div> */}\r\n           \r\n           <div className='chat_footer'>\r\n                \r\n                <InsertEmoticonIcon></InsertEmoticonIcon>\r\n                <form>\r\n                    <input value={input} placeholder=\"type chat ...\" type=\"text\" onChange={e=>setInput(e.target.value)}/>\r\n                    <button onClick={sendchat} type='submit'>Send</button>\r\n\r\n                </form>\r\n                <MicIcon/>\r\n           </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n"]},"metadata":{},"sourceType":"module"}